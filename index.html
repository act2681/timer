<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>üéÆ Study Battle Timer</title>
  <link rel="icon" type="image/x-icon" href="favicon.ico?v=3">
  <link rel="apple-touch-icon" href="favicon.ico?v=3">
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="bg-animation" id="bgAnimation"></div>

  <div class="container">
    <div class="header">
      <div class="title">‚öîÔ∏è STUDY BATTLE</div>
      <div class="level-badge" id="levelBadge">LV 1</div>
    </div>

    <div class="menu-buttons">
      <button class="menu-btn" onclick="openBattleArena()">üèÜ ‡∏ä‡∏¥‡∏á‡∏≠‡∏±‡∏ô‡∏î‡∏±‡∏ö</button>
      <button class="menu-btn" onclick="openThemes()">üé® ‡∏ò‡∏µ‡∏°</button>
      <button class="menu-btn" onclick="shareScore()">üì§ ‡πÅ‡∏ä‡∏£‡πå</button>
    </div>

    <div class="xp-container">
      <div class="xp-label">
        <span>‚ö° POWER LEVEL</span>
        <span id="xpText">0 / 100</span>
      </div>
      <div class="xp-bar">
        <div class="xp-fill" id="xpFill" style="width: 0%"></div>
      </div>
    </div>

    <div class="stats-grid">
      <div class="stat-card">
        <div class="stat-value" id="totalSessions">0</div>
        <div class="stat-label">‡∏£‡∏≠‡∏ö</div>
      </div>
      <div class="stat-card">
        <div class="stat-value" id="totalMinutes">0</div>
        <div class="stat-label">‡∏ô‡∏≤‡∏ó‡∏µ</div>
      </div>
      <div class="stat-card">
        <div class="stat-value" id="streak">0</div>
        <div class="stat-label">üî• Combo</div>
      </div>
      <div class="stat-card">
        <div class="stat-value" id="rank">-</div>
        <div class="stat-label">‡∏≠‡∏±‡∏ô‡∏î‡∏±‡∏ö</div>
      </div>
    </div>

    <div class="time-settings">
      <div class="setting-row">
        <div class="setting-label">
          <span>üìö</span>
          <span>‡πÄ‡∏ß‡∏•‡∏≤‡πÄ‡∏£‡∏µ‡∏¢‡∏ô (‡∏ô‡∏≤‡∏ó‡∏µ)</span>
        </div>
        <input type="number" class="time-input" id="focusTime" min="1" max="120" value="25">
      </div>
      <div class="setting-row">
        <div class="setting-label">
          <span>‚òï</span>
          <span>‡πÄ‡∏ß‡∏•‡∏≤‡∏û‡∏±‡∏Å (‡∏ô‡∏≤‡∏ó‡∏µ)</span>
        </div>
        <input type="number" class="time-input" id="breakTime" min="1" max="30" value="5">
      </div>
      <div class="setting-row">
        <div class="setting-label">
          <span>‚è±Ô∏è</span>
          <span>‡∏£‡∏≠‡∏ö‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</span>
        </div>
        <input type="number" class="time-input" id="totalRounds" min="1" max="20" value="4">
      </div>
    </div>

    <div class="session-tracker" id="sessionTracker"></div>

    <div class="timer-display">
      <span class="mode-emoji" id="modeEmoji">‚öîÔ∏è</span>
      <div class="timer-circle-container">
        <svg class="timer-circle" width="240" height="240">
          <defs>
            <linearGradient id="gradient" x1="0%" y1="0%" x2="100%" y2="100%">
              <stop offset="0%" style="stop-color:#ff6b9d;stop-opacity:1" />
              <stop offset="50%" style="stop-color:#ffd93d;stop-opacity:1" />
              <stop offset="100%" style="stop-color:#6BCF7F;stop-opacity:1" />
            </linearGradient>
          </defs>
          <circle class="timer-bg" cx="120" cy="120" r="110"></circle>
          <circle class="timer-progress" id="timerProgress" cx="120" cy="120" r="110"></circle>
        </svg>
        <div class="timer-text" id="timerText">25:00</div>
      </div>
      <div class="mode-text" id="modeText">‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÄ‡∏£‡∏µ‡∏¢‡∏ô!</div>
    </div>

    <div class="controls">
      <button class="btn btn-primary" id="startBtn" onclick="toggleTimer()">
        ‚ñ∂Ô∏è ‡∏™‡∏π‡πâ!
      </button>
      <button class="btn btn-secondary" onclick="resetTimer()">
        üîÑ ‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï
      </button>
    </div>

    <div class="quote-box" id="quoteBox">
      <div class="quote-text"></div>
      <div class="quote-author"></div>
    </div>
  </div>

  <div class="modal" id="battleModal">
    <div class="modal-content">
      <div class="modal-header">
        <h2 class="modal-title">‚öîÔ∏è ‡∏Å‡∏£‡∏∞‡∏î‡∏≤‡∏ô‡∏ú‡∏π‡πâ‡∏ô‡∏≥</h2>
        <button class="close-btn" onclick="closeBattleArena()">√ó</button>
      </div>

      <div class="battle-input-section">
        <input 
          type="text" 
          class="battle-input" 
          id="playerNameInput" 
          placeholder="‡πÉ‡∏™‡πà‡∏ä‡∏∑‡πà‡∏≠‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì..."
          maxlength="20"
        >
        <button class="share-btn" onclick="submitScore()">
          üöÄ ‡∏™‡πà‡∏á‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡πÅ‡∏Ç‡πà‡∏á‡∏Ç‡∏±‡∏ô!
        </button>
      </div>

      <div style="margin-top: 25px;">
        <h3 style="color: #ff6b9d; margin-bottom: 15px; font-size: 1.3rem;">üèÜ TOP Student</h3>
        <div id="leaderboardList"></div>
      </div>
    </div>
  </div>

  <div class="modal" id="themesModal">
    <div class="modal-content">
      <div class="modal-header">
        <h2 class="modal-title">üé® ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ò‡∏µ‡∏°‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì</h2>
        <button class="close-btn" onclick="closeThemes()">√ó</button>
      </div>
      <div class="themes" id="themesContainer"></div>
    </div>
  </div>

  <div class="achievement-popup" id="achievementPopup">
    <div class="achievement-icon" id="achievementIcon">üèÜ</div>
    <h2 class="achievement-title" id="achievementTitle">‡∏¢‡∏¥‡∏ô‡∏î‡∏µ‡∏î‡πâ‡∏ß‡∏¢!</h2>
    <p class="achievement-desc" id="achievementDesc">‡∏Ñ‡∏∏‡∏ì‡∏ó‡∏≥‡πÑ‡∏î‡πâ!</p>
  </div>

  <audio id="timerSound" preload="auto">
    <source src="sounds/timer.mp3" type="audio/mpeg">
  </audio>

  <script src="script.js"></script>
</body>
</html>
